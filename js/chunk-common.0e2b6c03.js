(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"2c8e":function(e,t,n){},"4e69":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"device-info"},[n("dl",{staticClass:"status"},[n("dt",{staticClass:"name"},[e._v("Connected:")]),n("dd",{staticClass:"name"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{readonly:!e.allowNameChange&&"readonly"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("dd",{staticClass:"name"},[n("button",{style:{visibility:e.allowNameChange?"visible":"hidden"},on:{click:function(t){return e.$emit("set-name",e.name)}}},[e._v("Set Name")])]),n("dt",[n("font-awesome-icon",{attrs:{icon:e.batteryIcon,size:"lg"}}),e._v(":")],1),n("dd",[e._v(e._s(e.info.batteryLevel)+"%")]),n("dt",[e._v("Mem:")]),n("dd",[e._v(e._s(32*e.info.memoryUsed)+" bytes "+e._s(e._f("formatFloat")(e.memoryPercent,2))+"%")]),n("dt",[n("a",{staticClass:"round-button disconnect",attrs:{href:"#"},on:{click:function(t){return e.$emit("disconnect")}}},[n("font-awesome-layers",{staticStyle:{"font-size":"1.5em"}},[n("font-awesome-icon",{attrs:{icon:["fas","ban"]}}),n("font-awesome-icon",{attrs:{icon:["fab","bluetooth-b"],transform:"shrink-6"}})],1)],1)])]),e.message?n("p",{staticClass:"error"},[e._v(e._s(e.message))]):e._e(),n("div",{staticClass:"time"},[n("font-awesome-layers",{staticStyle:{"font-size":"4em"}},[n("font-awesome-icon",{attrs:{icon:["far","square"]}}),n("font-awesome-icon",{attrs:{icon:["far","clock"],transform:"shrink-6"}})],1),n("dl",[n("dt",[e._v("Uptime:")]),n("dd",[e._v(e._s(e._f("formatUptime")(e.info.upTime)))]),n("dt",[e._v("Device:")]),n("dd",[e._v(e._s(e._f("formatMoment")(e.info.deviceTime)))]),n("dt",[e._v("Local:")]),n("dd",[e._v(e._s(e._f("formatMoment")(e.info.localTime)))])]),e.allowSynch?n("button",{staticClass:"synch",on:{click:function(t){return e.$emit("synch-clock")}}},[e._v("Synch Clock")]):e._e()],1)])},a=[],i={props:{allowSynch:{type:Boolean,default:!1},info:{type:Object,required:!0},message:{type:String,default:void 0},allowNameChange:{type:Boolean,default:!1}},data:function(){return{name:this.info.deviceName}},computed:{batteryIcon:function(){return void 0==this.info.batteryLevel?["fas","ban"]:this.info.batteryLevel>87.5?["fas","battery-full"]:this.info.batteryLevel>62.5?["fas","battery-three-quarters"]:this.info.batteryLevel>37.5?["fas","battery-half"]:this.info.batteryLevel>15?["fas","battery-quarter"]:["fas","battery-empty"]},memoryPercent:function(){if(void 0!==this.info.memoryUsed)return this.info.memoryUsed/this.info.totalMemory*100}}},o=i,u=(n("7341"),n("2877")),s=Object(u["a"])(o,r,a,!1,null,"acce809c",null);t["a"]=s.exports},6196:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return U}));n("c19f"),n("b0c0"),n("dca8"),n("d3b7"),n("25f0"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ec97"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("96cf");var r=n("1da1"),a=n("d4ec"),i=n("262e"),o=n("2caf"),u=n("9072"),s=(n("fb2c"),"7b183224-9168-443e-a927-7aeea07e8105"),c=Object.freeze({count:"292bd3d2-14ff-45ed-9343-55d125edb721",rw:"56cd7757-5f47-4dcd-a787-07d648956068",data:"fec26ec4-6d71-4442-9f81-55bc21d658d6"}),f=Object.freeze({isWritingToFlash:{value:"I",notify:!0,returnType:Uint8Array},getUptime:{value:"A",notify:!0,returnType:Uint32Array},startWritingToFlash:{value:"w",returnType:Uint8Array},stopWritingToFlash:{value:"s",returnType:Uint8Array},setName:{value:"N",returnType:Uint8Array},recordPrimaryEncounterEvent:{value:"M",returnType:Uint8Array},recordSecondaryEncounterEvent:{value:"U",returnType:Uint8Array},startDataDownload:{value:"f",returnType:Uint8Array},stopDataDownload:{value:"F",returnType:Uint8Array},eraseFlash:{value:"C",returnType:Uint8Array},getMode:{value:"m",notify:!0,returnType:Uint8Array},setModeRaw:{value:"R",notify:!0,returnType:Uint8Array},setModeEncounter:{value:"E",notify:!0,returnType:Uint8Array},setScanParameters:{value:"B",returnType:Uint8Array},getSynchTime:{value:"a",returnType:Uint32Array},setSynchTime:{value:"O",returnType:Uint8Array},getVersion:{value:"v",returnType:Uint8Array},getLastAddress:{value:"g",returnType:Uint32Array},markLastAddress:{value:"Y",returnType:Uint8Array},setNameInEncounterId:{value:"d",returnType:Uint8Array},setFullEncounterId:{value:"D",returnType:Uint8Array}}),l=n("d9a5"),d=n.n(l),h=n("faa1"),p=n.n(h),v=function(){},y=Object.freeze({CALIBRATION:{command:f.setModeRaw.value},ENCOUNTER:{command:f.setModeEncounter.value}});function m(e){if("number"===typeof e){var t=new ArrayBuffer(4),n=new DataView(t);return n.setUint32(0,e,!0),new Uint8Array(t)}if("string"===typeof e)return Uint8Array.of(e.charCodeAt(0));throw new Error("Cannot encode value for bluetooth write")}function g(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,a=e.length;r<a;r++)n[r]=e.charCodeAt(r);return t}function b(e){for(var t=e.byteLength,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.getUint8(r);return String.fromCharCode.apply(null,n)}var w=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,"Received block out of order")}return n}(Object(u["a"])(Error)),x=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,"Interrupted")}return n}(Object(u["a"])(Error));function U(){var e=void 0,t=void 0,n=new p.a;function a(){if(!t)throw new Error("No connection established")}function i(){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(void 0!=e){r.next=2;break}return r.abrupt("return",Promise.reject(new Error("bluetooth not available")));case 2:return r.next=4,u();case 4:return n.emit("status","Requesting any Bluetooth Device..."),a={filters:[{namePrefix:"NIST",services:[s]},{services:[64879]}]},r.next=8,e.requestDevice(a);case 8:return t=r.sent,t.addEventListener("gattserverdisconnected",(function(){n.emit("disconnected")})),r.next=12,t.gatt.connect();case 12:n.emit("connected",t);case 13:case"end":return r.stop()}}),r)}))),o.apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.gatt.disconnect();case 5:return e.prev=5,t=void 0,e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),l.apply(this,arguments)}function h(){return a(),t.gatt.getPrimaryService(s).then((function(e){return e.getCharacteristic(c.count)})).then((function(e){return e.readValue()})).then((function(e){var t=e.getUint8(3);return{blocks:e.getUint16(0,!0),saveToFlash:function(){return 1==(1&t)},mark:function(){return 2==(2&t)},noSynch:function(){return 4==(4&t)},rawMode:function(){return 8==(8&t)},nameInEncounterId:function(){return 16==(16&t)}}}))}function U(){return a(),t.gatt.getPrimaryService(s).then((function(e){return e.getCharacteristic("battery_level")})).then((function(e){return e.readValue()})).then((function(e){return e.getUint8(0)}))}function k(){return S.apply(this,arguments)}function S(){return S=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a(),e.next=3,j(f.getLastAddress,(function(e,t){t(e.getUint32(0,!0))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function A(){return _.apply(this,arguments)}function _(){return _=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a(),e.next=3,j(f.getVersion,(function(e,t){t(b(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function C(e){return t.gatt.getPrimaryService(s).then((function(e){return e.getCharacteristic(c.data)})).then((function(t){return t.writeValue(e)}))}function T(e){return t.gatt.getPrimaryService(s).then((function(e){return e.getCharacteristic(c.data)})).then((function(e){return e.startNotifications()})).then((function(t){return t.addEventListener("characteristicvaluechanged",e)}))}function O(e){return t.gatt.getPrimaryService(s).then((function(e){return e.getCharacteristic(c.data)})).then((function(e){return e.stopNotifications()})).then((function(t){return t.removeEventListener("characteristicvaluechanged",e)}))}function E(){return R.apply(this,arguments)}function R(){return R=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a(),e.next=3,j(f.getMode,(function(e,t,n){switch(e.getUint8()){case 0:t(y.CALIBRATION);break;case 1:t(y.ENCOUNTER);break;default:n(e.getUint8());break}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function j(e,t){return N.apply(this,arguments)}function N(){return N=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=function(e){r(e)},a(),o=new Promise((function(e,t){function a(r){n(r.target.value,e,t)}r=a})),e.next=5,T(i);case 5:return e.prev=5,e.next=8,P(t.value);case 8:return e.next=10,o;case 10:return u=e.sent,e.abrupt("return",u);case 12:return e.prev=12,e.next=15,O(i);case 15:return e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[5,,12,16]])}))),N.apply(this,arguments)}function P(e){return t.gatt.getPrimaryService(s).then((function(e){return e.getCharacteristic(c.rw)})).then((function(t){return t.writeValue(m(e))}))}function L(e){return D.apply(this,arguments)}function D(){return D=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.length>8)){e.next=2;break}throw new Error("Name must be less than 8 characters");case 2:return a(),e.next=5,C(g(t)).then((function(){return P(f.setName.value)}));case 5:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function I(e,t){console.log("writing calibration data");var n=new ArrayBuffer(4),r=new DataView(n);r.setUint16(0,e,!0);var a=0;return"baseline"!==t&&(a=t.charCodeAt(0)-"a".charCodeAt(0)+1),r.setUint16(2,a,!0),C(n)}function M(e,t){var n=new ArrayBuffer(4),r=new DataView(n);return r.setUint16(0,e,!0),r.setUint16(2,t,!0),C(n).then((function(){return P(f.setScanParameters.value)}))}function B(){return F.apply(this,arguments)}function F(){return F=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),e.next=3,j(f.getUptime,(function(e,t){t([e.getUint32(0,!0),e.getUint32(4,!0)])}));case 3:return n=e.sent,r=new ArrayBuffer(12),a=new DataView(r),a.setUint32(0,parseInt(t/1e3),!0),a.setUint32(4,n[0],!0),a.setUint32(8,n[1],!0),e.next=11,C(r);case 11:return e.next=13,P(f.setSynchTime.value);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function V(){return z.apply(this,arguments)}function z(){return z=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",j(f.getUptime,(function(e,t){var n=e.getUint32(0,!0),r=e.getUint32(4,!0);t(n+(r<<17))})));case 1:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function $(){return K.apply(this,arguments)}function K(){return K=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j(f.getSynchTime,(function(e,t){var n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0);t(1e3*n-r-(a<<17))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function q(){return W.apply(this,arguments)}function W(){return W=Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,i,o,u,l,d,p,y,m,g,b,U,S,A,_=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(A=function(){return new Promise((function(e,n){var r=setInterval((function(){i.interrupt&&(clearInterval(r),y=v,n(new x))}),1e3);y=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){var r=t.target.value,a=r.getUint32(0,!0),i=new Uint8Array(r.buffer,4);return 0===i.byteLength?(U++,e(!1)):a!==U?n(new w):(p.set(i,S),y=v,S+=i.byteLength,U++,void e(!0))})),b.setUint32(0,U,!0),t.gatt.getPrimaryService(s).then((function(e){return e.getCharacteristic(c.data)})).then((function(e){return e.writeValue(b)})).catch((function(e){return n(e)}))}))},m=function(e){y(e),y=v},n=!(_.length>0&&void 0!==_[0])||_[0],r=_.length>1&&void 0!==_[1]&&_[1],i=_.length>2&&void 0!==_[2]?_[2]:{interrupt:!1,onProgress:void 0},!n){e.next=11;break}return e.next=8,h();case 8:e.t0=e.sent.blocks,e.next=19;break;case 11:return e.next=13,h();case 13:return e.t1=e.sent.blocks,e.next=16,k();case 16:e.t2=e.sent,e.t3=e.t1-e.t2,e.t0=e.t3<<32;case 19:return o=e.t0,u=32,l=o*u,d=new ArrayBuffer(l),p=new Uint8Array(d),y=v,a(),g=new ArrayBuffer(4),b=new DataView(g),U=0,S=0,e.next=32,T(m);case 32:if(e.prev=32,!n){e.next=38;break}return e.next=36,P("Z");case 36:e.next=40;break;case 38:return e.next=40,P("G");case 40:return e.next=42,P(f.startDataDownload.value);case 42:if(!(S<l)){e.next=50;break}if(!i.interrupt){e.next=45;break}throw new x;case 45:return e.next=47,A();case 47:i.onProgress&&i.onProgress(S,l),e.next=42;break;case 50:return e.prev=50,e.prev=51,e.next=54,P(f.stopDataDownload.value);case 54:return e.prev=54,e.next=57,O(m);case 57:return e.finish(54);case 58:return e.finish(50);case 59:if(!r){e.next=62;break}return e.next=62,P(f.markLastAddress.value);case 62:return e.abrupt("return",p);case 63:case"end":return e.stop()}}),e,null,[[32,,50,59],[51,,54,58]])}))),W.apply(this,arguments)}return/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)||(e=navigator.bluetooth),{connect:i,disconnect:u,getCountStatus:h,setName:L,fetchData:q,eraseData:function(){return P(f.eraseFlash.value)},getUptime:V,getSynchTime:$,getVersion:A,synchClock:B,getBatteryLevel:U,getLastAddress:k,startRecording:function(){return P(f.startWritingToFlash.value)},stopRecording:function(){return P(f.stopWritingToFlash.value)},setMark:function(){return P(f.recordPrimaryEncounterEvent.value)},setUnmark:function(){return P(f.recordSecondaryEncounterEvent.value)},setMode:function(e){return P(e.command)},setNameInEncounterId:function(){return P(f.setNameInEncounterId.value)},setFullEncounterId:function(){return P(f.setFullEncounterId.value)},getMode:E,writeCalibration:I,setScanParameters:M,getDeviceName:function(){return d()(t.name)},isConnected:function(){return!!t},on:n.on.bind(n),off:n.off.bind(n),once:n.once.bind(n)}}},6803:function(e,t,n){},7341:function(e,t,n){"use strict";n("6803")},"883a":function(e,t,n){"use strict";n("2c8e")},9433:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.message?n("p",{style:e.textStyle,on:{transitionend:e.onTransitioned}},[e._v(e._s(e.message))]):e._e(),n("progress",{ref:"progress",style:e.progressStyle,attrs:{max:e.max},domProps:{value:e.value}})])},a=[],i={data:function(){return{message:void 0,max:void 0,value:void 0,progressStyle:{display:"none",width:this.width},textStyle:{opacity:0,width:this.width,display:"none"}}},props:{width:{type:String,default:"20em"},errorColor:{type:String,default:"#FF0000"}},watch:{value:function(e){this.progressStyle.display=void 0==e?"none":void 0}},methods:{onTransitioned:function(){0==this.textStyle.opacity&&(this.textStyle.display="none")},clear:function(){this.message=void 0,this.textStyle.display="none"},updateMessage:function(e){e&&(this.message=e,this.textStyle.display=void 0)},taskBegin:function(e,t){this.textStyle["color"]=void 0,this.max=e,this.value=0,this.textStyle.opacity=1,this.updateMessage(t)},taskNextStep:function(e,t){this.value+=t||1,this.updateMessage(e)},taskExtend:function(e){this.max+=e},taskEnd:function(e){this.value=this.max,this.updateMessage(e),this.textStyle.opacity=0},taskCancel:function(e){this.textStyle["color"]=this.errorColor,this.updateMessage(e),this.textStyle.opacity=0},taskError:function(e){this.textStyle["color"]=this.errorColor,this.updateMessage(e)},taskReset:function(e){this.updateMessage(e),this.value=void 0,this.max=void 0,this.$refs.progress.removeAttribute("value")}}},o=i,u=(n("a1d4"),n("2877")),s=Object(u["a"])(o,r,a,!1,null,"17ee06f7",null);t["a"]=s.exports},a1d4:function(e,t,n){"use strict";n("f5f2")},d92d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5a0c"),a=n.n(r);function i(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,u=void 0,s=32768;return e.getCountStatus().then((function(t){return n=t.blocks,t.noSynch()?(console.log("synchronizing"),e.synchClock().then((function(){return e.getCountStatus()})).then((function(e){return r=e}))):r=t})).then((function(){return e.getUptime()})).then((function(e){return o=e})).then((function(){return e.getSynchTime()})).then((function(e){i=a()(),u=a()(e+o)})).then((function(){return e.getBatteryLevel()})).then((function(e){return t=e})).then((function(){return{batteryLevel:t,memoryUsed:n,status:r,localTime:i,upTime:o,deviceTime:u,totalMemory:s,deviceName:e.getDeviceName()}}))}},e57f:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",[e.caption?n("caption",[e._v(e._s(e.caption))]):e._e(),n("thead",[n("tr",e._l(e.headers,(function(t,r){return n("th",{key:r,class:{active:e.sortKey==t.name},on:{click:function(n){return e.sortBy(t.name)}}},[e._v(" "+e._s(e._f("capitalize")(t.title))+" "),n("span",{staticClass:"arrow",class:e.sortOrders[t.name]>0?"asc":"dsc"})])})),0)]),n("tbody",e._l(e.filteredData,(function(t,r){return n("tr",{key:r},e._l(e.headers,(function(r,a){return n("td",{key:a},[e._v(e._s(e._f("formatEntry")(t[r.name],r.filter,e.$options.filters)))])})),0)})),0)])},a=[],i=(n("4de4"),n("4160"),n("c975"),n("fb6a"),n("45fc"),n("b0c0"),n("b64b"),n("5530")),o=n("b85c"),u={data:function(){var e,t={},n=[],r=Object(o["a"])(this.columns);try{for(r.s();!(e=r.n()).done;){var a=e.value;if("string"==typeof a||a instanceof String)n.push({name:a,title:a});else{var u=a;!u.title&&u.name&&(u=Object(i["a"])({title:u.name},u)),n.push(u)}}}catch(s){r.e(s)}finally{r.f()}return n.forEach((function(e){t[e.name]=1})),{sortKey:"",sortOrders:t,headers:n}},props:{columns:Array,data:Array,filterKey:String,caption:String},computed:{filteredData:function(){var e=this.sortKey,t=this.filterKey&&this.filterKey.toLowerCase(),n=this.sortOrders[e]||1,r=this.data;return t&&(r=r.filter((function(e){return Object.keys(e).some((function(n){return String(e[n]).toLowerCase().indexOf(t)>-1}))}))),e&&(r=r.slice().sort((function(t,r){return t=t[e],r=r[e],(t===r?0:t>r?1:-1)*n}))),r}},filters:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},formatEntry:function(e,t,n){if(t){var r=n[t];if(r)return r(e)}return e}},methods:{sortBy:function(e){this.sortKey=e,this.sortOrders[e]=-1*this.sortOrders[e]}}},s=u,c=(n("883a"),n("2877")),f=Object(c["a"])(s,r,a,!1,null,"3f5bbe19",null);t["a"]=f.exports},f5f2:function(e,t,n){}}]);
//# sourceMappingURL=chunk-common.0e2b6c03.js.map